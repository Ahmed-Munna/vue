<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Saudia</title>
    <link rel="shortcut icon" href="logo.png" type="image/x-icon">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3"></script>
</head>
<body class="h-full grid place-items-center bg-[#D2E8F0]">
    <main id="app">
        <div class="logo flex justify-center">
            <img src="logo.png" class="w-60 mb-6" alt="">
        </div>
        <div class="p-6 bg-slate-100 rounded-md shadow-xl">
            <div class="font-medium">
                <span class="px-4 py-0 mr-3 rounded-full bg-red-500"></span>Sold
                <span class="px-4 py-0 mx-3 rounded-full bg-slate-300"></span>Availabel
                <span class="px-4 py-0 mx-3 rounded-full bg-slate-700"></span>Booked
                <span class="px-4 py-0 mx-3 rounded-full bg-lime-800"></span>Selected
            </div>
            <div class="flex mt-4 ">
                <div class="border border-green-900 px-2 py-2 mr-4">
                    <table class="border-separate border-spacing-y-8 border-spacing-x-4">
                        <thead>
                            <tr>
                                <th class="px-4 border border-green-900 mr-4">Door</th> 
                                <th class="px-4 border border-green-900">Driver</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr v-for="(busSeat, index) in busSeats">
                                <td>
                                    <span 
                                    class="py-3 px-3 border border-green-900" 
                                    :key="busSeat[0].name" 
                                    :class="[{
                                        'hover:bg-slate-300 cursor-pointer': busSeat[0].type == 'available',
                                        'bg-slate-700 cursor-wait text-slate-300': busSeat[0].type == 'booked',
                                        'bg-red-500 cursor-not-allowed': busSeat[0].type == 'sold',
                                        'bg-lime-800 text-slate-300': busSeat[0].type == 'selected',
                                    }]" 
                                    @click="selectSeat(index, busSeat[0].name)">
                                        {{busSeat[0].name}}
                                    </span>
                                    <span class="py-3 px-3 ml-2 border border-green-900" 
                                    :key="busSeat[1].name"
                                    :class="[{
                                        'hover:bg-slate-300 cursor-pointer': busSeat[1].type == 'available',
                                        'bg-slate-700 cursor-wait text-slate-300': busSeat[1].type == 'booked',
                                        'bg-red-500 cursor-not-allowed': busSeat[1].type == 'sold',
                                        'bg-lime-800 text-slate-300': busSeat[1].type == 'selected',
                                    }]" 
                                    @click="selectSeat(index, busSeat[1].name)"
                                    >{{busSeat[1].name}}</span>
                                </td>
                                <td>
                                    <span class="py-3 px-3 border border-green-900" :key="busSeat[2].name"
                                    :class="[{
                                        'hover:bg-slate-300 cursor-pointer': busSeat[2].type == 'available',
                                        'bg-slate-700 cursor-wait text-slate-300': busSeat[2].type == 'booked',
                                        'bg-red-500 cursor-not-allowed': busSeat[2].type == 'sold',
                                        'bg-lime-800 text-slate-300': busSeat[2].type == 'selected',
                                    }]" 
                                    @click="selectSeat(index, busSeat[2].name)"
                                    >{{busSeat[2].name}}</span>
                                    <span class="py-3 px-3 ml-2 border border-green-900" 
                                    :key="busSeat[3].name"
                                    :class="[{
                                        'hover:bg-slate-300 cursor-pointer': busSeat[3].type == 'available',
                                        'bg-slate-700 cursor-wait text-slate-300': busSeat[3].type == 'booked',
                                        'bg-red-500 cursor-not-allowed': busSeat[3].type == 'sold',
                                        'bg-lime-800 text-slate-300': busSeat[3].type == 'selected',
                                    }]" 
                                    @click="selectSeat(index, busSeat[3].name)"
                                    >{{busSeat[3].name}}</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="w-96 flex justify-center items-center" v-if="selectedSeats[0].length == 0">
                    <div class="text-center">
                        <p>No seat selected</p>
                        <p>Select some seats first</p>
                    </div>
                </div>
                <div class="w-96" v-if="selectedSeats[0].length !== 0">
                    <p class="mb-2 font-medium">Selected Seats</p>
                    <table class=" border border-slate-500">
                        <thead>
                          <tr>
                            <th class="border-separate border-spacing-2 border border-green-900 px-14 py-2">Seat</th>
                            <th class="border-separate border-spacing-2 border border-green-900 px-14 py-2">Price</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr v-for="selectedSeat in selectedSeats[0]">
                            <td class="border-separate border-spacing-2 border border-green-900 px-14 py-2">{{selectedSeat.name}}</td>
                            <td class="border-separate border-spacing-2 border border-green-900 px-14 py-2">{{selectedSeat.price}}</td>
                          </tr>
                          <tr v-if="couponCode == coupon.name">
                            <td class="border-separate border-spacing-2 border border-green-900 px-14 py-2 font-medium">Discount</td>
                            <td class="border-separate border-spacing-2 border border-green-900 px-14 py-2 font-medium">-{{coupon.discount}}</td>
                          </tr>
                          <tr>
                            <td class="border-separate border-spacing-2 border border-green-900 px-14 py-2 font-medium">Total</td>
                            <td class="border-separate border-spacing-2 border border-green-900 px-14 py-2 font-medium">{{selectedSeats[1] - discountCoupon}}</td>
                          </tr>
                          <tr>
                        </tbody>
                      </table>
                      <div class="mt-4">
                        <div v-if="couponCode !== coupon.name">
                            <p class="mb-2">Have a coupon?</p>
                            <input type="text" class="border border-green-900 py-1" v-model="couponCode">
                        </div>
                        <div v-else>
                            <p>Applied Coupon: {{coupon.name}}</p>
                        </div>
                      </div>
                      <div class="mt-4">
                        <p class="mb-2 font-medium">Selected Seats</p>
                        <div class="">
                            <input type="text" class="border border-green-900 py-1 mr-4 px-1 w-44" placeholder="Name" v-model="name">
                            <input type="text" class="border border-green-900 py-1 px-1 w-44" placeholder="Phone Number" v-model="phone">
                            <button class="w-full py-2 bg-slate-700 mt-4 text-slate-300 font-medium" @click="bookedSeats">Confirm</button>
                        </div>
                      </div>
                </div>
            </div>
        </div>
    </main>
    <script src="app.js"></script>
</body>
</html>